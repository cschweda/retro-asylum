# Netlify Configuration for Retro Asylum (Nuxt 4)
# See DEPLOYMENT.md for detailed documentation

[build]
  # Build command: Install dependencies and build with Nuxt
  command = "yarn install && yarn build"

  # Publish directory: Static files generated by Nuxt
  publish = ".output/public"

  # Functions directory: Netlify Functions for server-side rendering
  functions = ".output/server"

[build.environment]
  # Node.js version (must match .nvmrc)
  NODE_VERSION = "20.11.0"

  # Disable prerendering for this SPA
  NITRO_PRERENDER = "false"

# SPA routing: Redirect all routes to index.html for client-side routing
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

